<h2 class="mb-4">Add Donation</h2>

<form method="POST" action="/staff/add-donation">
  <div class="mb-3">
    <label for="donor_id" class="form-label">Select Donor by National ID</label>
    <select id="donor_id" name="donor_id" class="form-select" required>
    <option disabled selected value="">-- Select Donor --</option>
      <% donors.forEach(donor => { %>
        <option value="<%= donor.id %>">
          <%= donor.national_id %> - <%= donor.name %>
        </option>
      <% }) %>
    </select>
    <small class="form-text text-muted">
      If donor not found, <a href="/staff/dashboard">return to dashboard</a>.
    </small>
  </div>

  <div class="mb-3">
    <label class="form-label">Blood Type</label>
    <select class="form-select" name="blood_type" required>
      <option value="A+">A+</option>
      <option value="A-">A-</option>
      <option value="B+">B+</option>
      <option value="B-">B-</option>
      <option value="AB+">AB+</option>
      <option value="AB-">AB-</option>
      <option value="O+">O+</option>
      <option value="O-">O-</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Donation City</label>
  <select class="form-select" name="city_id" required>
    <option disabled selected value="">-- Select City --</option>
    <% cities.forEach(city => { %>
      <option value="<%= city.id %>"><%= city.name %></option>
    <% }) %>
  </select>  </div>

  <button type="submit" class="btn btn-primary">Submit Donation</button>
</form>

<% if (message) { %>
  <div class="alert alert-info mt-3">
    <%= message %>
  </div>
<% } %>

<p class="mt-4 text-muted">
  Once submitted, the donation will be marked as <strong>pending virus test</strong>. Lab staff will update the test result later.
</p>

<a href="/staff/dashboard" class="btn btn-secondary mt-3">‚Üê Back to Dashboard</a>
